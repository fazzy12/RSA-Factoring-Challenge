#!/usr/bin/env bash

# Function to factorize a number into two smaller numbers
check_factor() {
    local num1=$1   # The original number
    local num2=$2   # The first factor

    # Ensure num1 is greater than or equal to num2
    if ((num1 < num2)); then
        local temp=$num1
        num1=$num2
        num2=$temp
    fi

    # Output the factorization in the desired format
    echo "$num1=$num2*$((num1 / num2))"
}

# Check if the correct number of command line arguments is provided
if [ $# -ne 1 ]; then
    echo 'Usage: factors <file>'
    exit 1
else
    # Read numbers from the input file
    while read -r num; do
        # Get the first factor using the "factor" command and pipe to "awk" to extract the second column
        check_factor "$num" "$(factor "$num" | awk '{print $2}')"
    done < "$1"  # Read from the input file specified on the command line
fi
